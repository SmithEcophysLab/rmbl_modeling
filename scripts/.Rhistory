ggplot(data = env_data, aes(x = cru_vpd, y = vpdmax_kPa)) + geom_jitter()
lm_vpdmax <- lm(cru_vpd ~ vpdmax_kPa, env_data)
anova(lm_vpdmax)
ggplot(data = env_data, aes(x = cru_vpd, y = vpdmin_kPa)) + geom_jitter()
lm_vpdmin <- lm(cru_vpd ~ vpdmin_kPa, env_data)
anova(lm_vpdmin)
# average months per year above 0 Celsius (f)
env_data_f <- env_data %>% dplyr::filter(site == "almont") %>% dplyr::filter(tmean_c > 0) %>%
dplyr::count(year)
f <- mean(env_data_almont$n)/12
env_data$f[env_data$site == "almont"] <- f
## run model
model_output <- calc_optimal_vcmax(tg_c = env_data$tmean_c,
z = env_data$elev,
vpdo = env_data$cru_vpd,
paro = env_data$cru_par,
f = env_data$f)
head(env_data)
# average months per year above 0 Celsius (f)
env_data_f <- env_data %>% dplyr::filter(site == "almont") %>% dplyr::filter(tmean_c > 0) %>%
dplyr::count(year)
head(env_data_f)
# average months per year above 0 Celsius (f)
env_data_almont <- env_data %>% dplyr::filter(site == "almont") %>% dplyr::filter(tmean_c > 0) %>%
dplyr::count(year)
f <- mean(env_data_almont$n)/12
f
f_almont <- mean(env_data_almont$n)/12
env_data$f[env_data$site == "almont"] <- f_almont
env_data$f
levels(env_data$site)
levels(as.factor(env_data$site))
env_data_cbt <- env_data %>% dplyr::filter(site == "cbt") %>% dplyr::filter(tmean_c > 0) %>%
dplyr::count(year)
f_cbt <- mean(env_data_cbt$n)/12
env_data$f[env_data$site == "cbt"] <- f_cbt
env_data_pbm <- env_data %>% dplyr::filter(site == "pbm") %>% dplyr::filter(tmean_c > 0) %>%
dplyr::count(year)
f_pbm <- mean(env_data_pbm$n)/12
env_data$f[env_data$site == "pbm"] <- f_pbm
env_data_pfeiler <- env_data %>% dplyr::filter(site == "pfeiler") %>% dplyr::filter(tmean_c > 0) %>%
dplyr::count(year)
f_pfeiler <- mean(env_data_pfeiler$n)/12
env_data$f[env_data$site == "pfeiler"] <- f_pfeiler
env_data_road <- env_data %>% dplyr::filter(site == "road") %>% dplyr::filter(tmean_c > 0) %>%
dplyr::count(year)
f_road <- mean(env_data_road$n)/12
env_data$f[env_data$site == "road"] <- f_road
env_data$f
## run model
model_output <- calc_optimal_vcmax(tg_c = env_data$tmean_c,
z = env_data$elev,
vpdo = env_data$cru_vpd,
paro = env_data$cru_par,
f = env_data$f)
head(model_output)
env_data$vcmax <- model_output$vcmax
env_data$jmax <- model_output$jmax
env_data$vcmax25 <- model_output$vcmax25
env_data$jmax25 <- model_output$jmax25
env_data$lma <- model_output$lma
env_data$nphoto <- model_output$nphoto
env_data$nstructure <- model_output$nstructure
# remove months where tmean is at or below freezing
env_data_warm <- env_data %>% dplyr::filter(tmean_c > 0)
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, year) %>%
dplyr::summarize(vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto))
env_data_summary
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site) %>%
dplyr::summarize(vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto))
env_data_summary
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev) %>%
dplyr::summarize(vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto))
head(env_data_warm)
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev_m) %>%
dplyr::summarize(vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto))
env_data_summary
arrange(env_data_summary, elev_m)
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev_m) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
f_mean = mean(f),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto))
arrange(env_data_summary, elev_m)
## load model
source('../models/calc_optimal_vcmax.R')
sourceDirectory('../models/functions', modifiedOnly = FALSE)
## load model
source('../models/calc_optimal_vcmax.R')
sourceDirectory('../models/functions', modifiedOnly = FALSE)
model_output$vcmax25
env_data$vcmax25
## load model
source('../models/calc_optimal_vcmax.R')
sourceDirectory('../models/functions', modifiedOnly = FALSE)
## run model
model_output <- calc_optimal_vcmax(tg_c = env_data$tmean_c,
z = env_data$elev,
vpdo = env_data$cru_vpd,
paro = env_data$cru_par,
f = env_data$f)
# add model output to dataset
env_data$vcmax <- model_output$vcmax
env_data$jmax <- model_output$jmax
env_data$vcmax25 <- model_output$vcmax25
env_data$vcmax25
env_data$jmax25 <- model_output$jmax25
env_data$lma <- model_output$lma
env_data$nphoto <- model_output$nphoto
env_data$nstructure <- model_output$nstructure
# remove months where tmean is at or below freezing
env_data_warm <- env_data %>% dplyr::filter(tmean_c > 0)
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev_m) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto))
arrange(env_data_summary, elev_m)
## check model
t_seq = calc_optimal_vcmax(tg_c = seq(1, 25, 5))
plot(t_seq$vcmax ~ seq(1, 25, 5))
plot(t_seq$vcmax25 ~ seq(1, 25, 5))
ggplot(env_data_summary, aes(x = year, y = vcmax_mean)) + geom_line(aes(color = site))
env_data_summary_year <- env_data_warm %>% dplyr::group_by(site, elev_m, year) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto))
ggplot(env_data_summary_year, aes(x = year, y = vcmax_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = jmax_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nstructure_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nphoto_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = lma_mean)) + geom_line(aes(color = site))
env_data_summary_year <- env_data_warm %>% dplyr::group_by(site, elev_m, year) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
ggplot(env_data_summary_year, aes(x = year, y = lma_mean)) + geom_line(aes(color = site))
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev_m) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
arrange(env_data_summary, elev_m)
## load model
source('../models/calc_optimal_vcmax.R')
sourceDirectory('../models/functions', modifiedOnly = FALSE)
## check model
t_seq = calc_optimal_vcmax(tg_c = seq(1, 25, 5))
plot(t_seq$vcmax ~ seq(1, 25, 5))
plot(t_seq$vcmax25 ~ seq(1, 25, 5))
## run model
model_output <- calc_optimal_vcmax(tg_c = env_data$tmean_c,
z = env_data$elev,
vpdo = env_data$cru_vpd,
paro = env_data$cru_par,
f = env_data$f)
# add model output to dataset
env_data$vcmax <- model_output$vcmax
env_data$jmax <- model_output$jmax
env_data$vcmax25 <- model_output$vcmax25
env_data$jmax25 <- model_output$jmax25
env_data$lma <- model_output$lma
env_data$nphoto <- model_output$nphoto
env_data$nstructure <- model_output$nstructure
# remove months where tmean is at or below freezing
env_data_warm <- env_data %>% dplyr::filter(tmean_c > 0)
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev_m) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
arrange(env_data_summary, elev_m)
env_data_summary_year <- env_data_warm %>% dplyr::group_by(site, elev_m, year) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
ggplot(env_data_summary_year, aes(x = year, y = vcmax_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = jmax_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nstructure_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nphoto_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = lma_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = vcmax_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nphoto_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nstructure_mean)) + geom_line(aes(color = site))
## load model
source('../models/calc_optimal_vcmax.R')
sourceDirectory('../models/functions', modifiedOnly = FALSE)
## check model
t_seq = calc_optimal_vcmax(tg_c = seq(1, 25, 5))
plot(t_seq$vcmax ~ seq(1, 25, 5))
plot(t_seq$vcmax25 ~ seq(1, 25, 5))
## run model
model_output <- calc_optimal_vcmax(tg_c = env_data$tmean_c,
z = env_data$elev,
vpdo = env_data$cru_vpd,
paro = env_data$cru_par,
f = env_data$f)
# add model output to dataset
env_data$vcmax <- model_output$vcmax
env_data$jmax <- model_output$jmax
env_data$vcmax25 <- model_output$vcmax25
env_data$jmax25 <- model_output$jmax25
env_data$lma <- model_output$lma
env_data$nphoto <- model_output$nphoto
env_data$nstructure <- model_output$nstructure
env_data$nall <- model_output$nall
# remove months where tmean is at or below freezing
env_data_warm <- env_data %>% dplyr::filter(tmean_c > 0)
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev_m) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nall_mean = mean(nall),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
arrange(env_data_summary, elev_m)
env_data_summary_year <- env_data_warm %>% dplyr::group_by(site, elev_m, year) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nall_mean = mean(nall),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
ggplot(env_data_summary_year, aes(x = year, y = nall_mean)) + geom_line(aes(color = site))
## add in CO2 data
nasa_co2 = read.csv('../data/nasa_co2_ppm.csv')
nasa_co2
env_data_pre = env_data
head(env_data)
env_data = left_join(env_data_pre, nasa_co2, by = 'year')
head(env_data)
## run model
model_output <- calc_optimal_vcmax(tg_c = env_data$tmean_c,
z = env_data$elev,
vpdo = env_data$cru_vpd,
paro = env_data$cru_par,
f = env_data$f,
cao = env_data$co2_ppm.x)
# add model output to dataset
env_data$vcmax <- model_output$vcmax
env_data$jmax <- model_output$jmax
env_data$vcmax25 <- model_output$vcmax25
env_data$jmax25 <- model_output$jmax25
env_data$lma <- model_output$lma
env_data$nphoto <- model_output$nphoto
env_data$nstructure <- model_output$nstructure
env_data$nall <- model_output$nall
# remove months where tmean is at or below freezing
env_data_warm <- env_data %>% dplyr::filter(tmean_c > 0)
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev_m) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
co2_mean = mean(cao),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nall_mean = mean(nall),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev_m) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
co2_mean = mean(cao),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nall_mean = mean(nall),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev_m) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
co2_mean = mean(co2_ppm.x),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nall_mean = mean(nall),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
arrange(env_data_summary, elev_m)
env_data_summary_year <- env_data_warm %>% dplyr::group_by(site, elev_m, year) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
co2_mean = mean(co2_ppm.x),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nall_mean = mean(nall),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
ggplot(env_data_summary_year, aes(x = year, y = vcmax_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = jmax_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nstructure_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nphoto_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nall_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = lma_mean)) + geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = lma_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = vcmax_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = vcmax25_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = vcmax_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nphoto_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = lma_mean)) +
geom_line(aes(color = site))
## load model
source('../models/calc_optimal_vcmax.R')
sourceDirectory('../models/functions', modifiedOnly = FALSE)
## check model
t_seq = calc_optimal_vcmax(tg_c = seq(1, 25, 5))
plot(t_seq$vcmax ~ seq(1, 25, 5))
plot(t_seq$vcmax25 ~ seq(1, 25, 5))
plot(t_seq$lma ~ seq(1, 25, 5))
(60*60*24)/1000000
## load model
source('../models/calc_optimal_vcmax.R')
sourceDirectory('../models/functions', modifiedOnly = FALSE)
## check model
t_seq = calc_optimal_vcmax(tg_c = seq(1, 25, 5))
plot(t_seq$vcmax ~ seq(1, 25, 5))
plot(t_seq$vcmax25 ~ seq(1, 25, 5))
plot(t_seq$lma ~ seq(1, 25, 5))
## run model
model_output <- calc_optimal_vcmax(tg_c = env_data$tmean_c,
z = env_data$elev,
vpdo = env_data$cru_vpd,
paro = env_data$cru_par,
f = env_data$f,
cao = env_data$co2_ppm.x)
head(model_output)
## load model
source('../models/calc_optimal_vcmax.R')
sourceDirectory('../models/functions', modifiedOnly = FALSE)
## check model
t_seq = calc_optimal_vcmax(tg_c = seq(1, 25, 5))
plot(t_seq$vcmax ~ seq(1, 25, 5))
plot(t_seq$vcmax25 ~ seq(1, 25, 5))
plot(t_seq$lma ~ seq(1, 25, 5))
## load model
source('../models/calc_optimal_vcmax.R')
sourceDirectory('../models/functions', modifiedOnly = FALSE)
## check model
t_seq = calc_optimal_vcmax(tg_c = seq(1, 25, 5))
plot(t_seq$vcmax ~ seq(1, 25, 5))
plot(t_seq$vcmax25 ~ seq(1, 25, 5))
plot(t_seq$lma ~ seq(1, 25, 5))
## run model
model_output <- calc_optimal_vcmax(tg_c = env_data$tmean_c,
z = env_data$elev,
vpdo = env_data$cru_vpd,
paro = env_data$cru_par,
f = env_data$f,
cao = env_data$co2_ppm.x)
# add model output to dataset
env_data$vcmax <- model_output$vcmax
env_data$jmax <- model_output$jmax
env_data$vcmax25 <- model_output$vcmax25
env_data$jmax25 <- model_output$jmax25
env_data$lma <- model_output$lma
env_data$nphoto <- model_output$nphoto
env_data$nstructure <- model_output$nstructure
env_data$nall <- model_output$nall
# remove months where tmean is at or below freezing
env_data_warm <- env_data %>% dplyr::filter(tmean_c > 0)
# create site & year summary table
env_data_summary <- env_data_warm %>% dplyr::group_by(site, elev_m) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
co2_mean = mean(co2_ppm.x),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nall_mean = mean(nall),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
arrange(env_data_summary, elev_m)
env_data_summary_year <- env_data_warm %>% dplyr::group_by(site, elev_m, year) %>%
dplyr::summarize(tmean_c_mean = mean(tmean_c),
cru_vpd_mean = mean(cru_vpd),
cru_par_mean = mean(cru_par),
co2_mean = mean(co2_ppm.x),
f_mean = mean(f),
vcmax25_mean = mean(vcmax25),
jmax25_mean = mean(jmax25),
vcmax_mean = mean(vcmax),
jmax_mean = mean(jmax),
nall_mean = mean(nall),
nstructure_mean = mean(nstructure),
nphoto_mean = mean(nphoto),
lma_mean = mean(lma))
ggplot(env_data_summary_year, aes(x = year, y = vcmax_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = vcmax25_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = jmax_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = lma_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nstructure_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nall_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nstructure_mean)) +
geom_line(aes(color = site))
ggplot(env_data_summary_year, aes(x = year, y = nall_mean)) +
geom_line(aes(color = site))
